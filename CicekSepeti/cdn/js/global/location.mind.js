var locationMixins={data:{api:{disctrict:"/api/getdistrict/",search:"/api/getregion/",allCity:"/api/getcity/"},isShowDistrict:!1,isShowLocationList:!1,isEnabledDistrict:!0,isShowAllCity:!1,isEnabledAllCity:!0,isEnabledSearchLocationResult:!1,selectedCityName:"",isSearchAndClicked:!1,districts:[],allCity:[],locationSearch:"",selectedLocationName:""},methods:{searchDistricts:function(){var i=this;this.results=[],this.locationSearch.length>2?(i.isShowLocationList=!0,axios.get(i.api.search,{params:{query:i.locationSearch}}).then(function(t){i.isEnabledDistrict=!1,i.isEnabledSearchLocationResult=!0,i.isSearchAndClicked=!0,i.searchResult=t.data})):(i.isEnabledDistrict=!0,i.isEnabledSearchLocationResult=!1)},getDistricts:function(i,t){var e=this;e.isEnabledDistrict=!0,e.isEnabledAllCity=!1,e.isShowAllCity=!1,e.isSearchAndClicked=!1,"allCity"!==t&&(e.allCity=[]),axios.get(e.api.disctrict,{params:{q:i}}).then(function(i){e.selectedCityName=i.data.cityname,e.isShowDistrict=!0,e.districts=i.data.list}).catch(function(i){})},getAllCity:function(i){var t=this;t.isEnabledAllCity=!0,axios.get(t.api.allCity,{params:{q:i}}).then(function(i){t.selectedCityName=i.data.Name,t.isShowAllCity=!0,t.allCity=i.data}).catch(function(i){})},backToList:function(){var i=this;i.allCity.length>0&&i.districts.length>0?(i.isShowAllCity=!0,i.isEnabledAllCity=!0,i.districts=[]):(i.isShowDistrict=!1,i.isEnabledDistrict=!0,i.isShowAllCity=!1,i.isEnabledAllCity=!0)},closeOutside:function(i){var t=this.$refs.closeOutside,e=i.target;void 0!==t&&(t===e||t.contains(e)||(this.isShowLocationList?this.isShowLocationList=!1:this.showSearchProductsResult&&(this.showSearchProductsResult=!1)))},selectedDistrict:function(i,t,e,s,o){if(this.setCookie(i,t,e,s,o),this.isShowLocationList=!1,!o){var a=void 0===i||""===i||this.isSearchAndClicked?"":", "+i;this.selectedLocationName=t+a,this.isSearchLocationShow=!1,this.messageDetail.location=!1,this.checkSendLocation()}},setCookie:function(i,t,e,s,o){var a=new Date;a.setTime(a.getTime()+15*s*24*60*60*1e3);var c="expires="+a.toUTCString(),n=void 0===i||""===i||this.isSearchAndClicked?"":", "+i;document.cookie="locationName="+encodeURIComponent(t+n)+";"+c+";path=/",document.cookie="locationId="+e+";"+c+";path=/",o&&location.reload()},getCookie:function(i){for(var t=i+"=",e=decodeURIComponent(document.cookie).split(";"),s=0;s<e.length;s++){for(var o=e[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},deleteCookie:function(i){document.cookie=i+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},deleteLocationSelected:function(e){this.deleteCookie("locationId"),this.deleteCookie("locationName"),this.locationSearch="",this.selectedLocationName="",location.reload()},checkCookie:function(){var i=this.getCookie("locationId"),t=this.getCookie("locationName");""===i&&""===t||(this.selectedLocationName=t)}},created:function(){document.addEventListener("click",this.closeOutside),this.checkCookie()},destroyed:function(){document.removeEventListener("click",this.closeOutside)}};